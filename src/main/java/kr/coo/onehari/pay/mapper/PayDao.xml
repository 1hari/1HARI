<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="kr.coo.onehari.pay.dao.PayDao">
    <!-- 올해 전체 급여목록-->
    <select id="getPayList" resultType="kr.coo.onehari.hr.dto.PayDto">
		SELECT PAYMONTH, EMPNUM, BASICSAL, PAYNPENSION, PAYHINSURANCE, PAYCINSURANCE, EMPINSURANCE, PAYINCOMETAX, PAYLINCOMETAX 
		FROM PAY 
		WHERE YEAR(PAYMONTH) = YEAR(NOW()) AND EMPNUM=#{empNum};
    </select>
    
    <!-- 급여받은 월-->
    <select id="getYears" resultType="String">
		SELECT DISTINCT DATE_FORMAT(PAYMONTH,"%Y") FROM PAY WHERE EMPNUM=#{empNUm} ORDER BY PAYMONTH DESC
    </select>
    
	<!-- 올해 전체 급여목록-->
    <select id="getPayListYear" resultType="kr.coo.onehari.hr.dto.PayDto">
		SELECT PAYMONTH, EMPNUM, BASICSAL, PAYNPENSION, PAYHINSURANCE, PAYCINSURANCE, EMPINSURANCE, PAYINCOMETAX, PAYLINCOMETAX FROM PAY WHERE YEAR(PAYMONTH) = #{param2} AND EMPNUM=#{param1};
    </select>
</mapper>


